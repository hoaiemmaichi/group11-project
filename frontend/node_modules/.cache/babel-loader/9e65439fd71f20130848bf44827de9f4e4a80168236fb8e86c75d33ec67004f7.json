{"ast":null,"code":"import _objectSpread from\"d:/PM MNM/group11-project1/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import axios from'axios';import Modal from'./components/Modal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_API_URL||'http://localhost:3000';export default function Profile(_ref){let{token,onUpdated,currentUser,setCurrentUser}=_ref;// Cờ tính năng: hiển thị các phần theo yêu cầu. Đặt true để BẬT.\nconst SHOW_AVATAR_FEATURE=true;// Bật lại upload/hiển thị avatar\nconst SHOW_DELETE_ACCOUNT=true;// Bật lại nút \"Xóa tài khoản\"\n// Cờ hiển thị email ngay dưới tên trong phần tiêu đề hồ sơ\nconst SHOW_EMAIL_UNDER_NAME=false;// Ẩn theo yêu cầu; có thể bật lại bằng cách đặt true\n// Saved profile data shown in the view\nconst[profileData,setProfileData]=useState({name:(currentUser===null||currentUser===void 0?void 0:currentUser.name)||'',email:(currentUser===null||currentUser===void 0?void 0:currentUser.email)||''});// Draft data for the edit modal (so Cancel/X discards changes)\nconst[draft,setDraft]=useState({name:'',email:''});const[avatarUrl,setAvatarUrl]=useState((currentUser===null||currentUser===void 0?void 0:currentUser.avatarUrl)||'');const[uploading,setUploading]=useState(false);const[loading,setLoading]=useState(false);const[message,setMessage]=useState('');const[openEdit,setOpenEdit]=useState(false);const[showSaveConfirm,setShowSaveConfirm]=useState(false);const[showDeleteConfirm,setShowDeleteConfirm]=useState(false);const[showTokenModal,setShowTokenModal]=useState(false);const[copied,setCopied]=useState(false);useEffect(()=>{async function fetchProfile(){try{setMessage('');const res=await axios.get(\"\".concat(API,\"/profile\"),{headers:{Authorization:\"Bearer \".concat(token)}});const{name,email,avatarUrl:aurl}=res.data||{};setProfileData({name:name||'',email:email||''});if(aurl)setAvatarUrl(aurl);}catch(err){var _err$response,_err$response$data;const serverMsg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message;setMessage(serverMsg||'Không thể tải hồ sơ');}}if(token)fetchProfile();},[token]);const handleChange=e=>{const{name,value}=e.target;setDraft(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const openEditModal=()=>{setMessage('');setDraft({name:profileData.name||'',email:profileData.email||''});setOpenEdit(true);};const closeEditModal=()=>{setOpenEdit(false);setDraft({name:'',email:''});// discard edits\nsetMessage('');};// Thực hiện lưu thông tin (được gọi sau khi xác nhận)\nconst doSave=async()=>{const trimmedName=(draft.name||'').trim();const trimmedEmail=(draft.email||'').trim();if(!trimmedName){setMessage('Tên không được để trống');return;}setLoading(true);setMessage('');try{const res=await axios.put(\"\".concat(API,\"/profile\"),{name:trimmedName,email:trimmedEmail},{headers:{Authorization:\"Bearer \".concat(token)}});const updated=res.data;setProfileData({name:updated.name||trimmedName,email:updated.email||trimmedEmail});if(setCurrentUser){const mergedUser=_objectSpread(_objectSpread({},currentUser||{}),updated);setCurrentUser(mergedUser);try{localStorage.setItem('currentUser',JSON.stringify(mergedUser));}catch(_){}}if(onUpdated)onUpdated(updated);setMessage('Cập nhật thành công');setShowSaveConfirm(false);closeEditModal();}catch(err){var _err$response2,_err$response2$data;const serverMsg=((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||err.message;setMessage(serverMsg||'Cập nhật thất bại');}finally{setLoading(false);}};// Khi submit form, chỉ mở hộp xác nhận (không lưu ngay)\nconst handleSubmit=e=>{e.preventDefault();const trimmedName=(draft.name||'').trim();if(!trimmedName){setMessage('Tên không được để trống');return;}setShowSaveConfirm(true);};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:18},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-header\",children:[SHOW_AVATAR_FEATURE&&/*#__PURE__*/_jsx(\"div\",{className:\"profile-avatar\",style:{width:56,height:56,borderRadius:'50%',overflow:'hidden',marginRight:10},children:avatarUrl?/*#__PURE__*/_jsx(\"img\",{src:avatarUrl,alt:\"avatar\",style:{width:'100%',height:'100%',objectFit:'cover'}}):/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'100%',display:'flex',alignItems:'center',justifyContent:'center',background:'#e3f2fd',color:'#1565c0',fontWeight:700},children:profileData.name?profileData.name[0].toUpperCase():'U'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-summary\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-name\",children:profileData.name}),SHOW_EMAIL_UNDER_NAME&&/*#__PURE__*/_jsx(\"div\",{className:\"profile-email\",children:profileData.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn small\",onClick:openEditModal,children:\"S\\u1EEDa\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn small\",onClick:()=>setShowTokenModal(true),children:\"Xem Token\"}),SHOW_DELETE_ACCOUNT&&/*#__PURE__*/_jsx(\"button\",{className:\"btn small danger\",onClick:()=>setShowDeleteConfirm(true),children:\"X\\xF3a t\\xE0i kho\\u1EA3n\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-label\",children:\"H\\u1ECD v\\xE0 t\\xEAn\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-value\",children:profileData.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-value\",children:profileData.email})]})]})]}),/*#__PURE__*/_jsxs(Modal,{open:openEdit,title:\"C\\u1EADp nh\\u1EADt th\\xF4ng tin\",onClose:closeEditModal,children:[/*#__PURE__*/_jsxs(\"form\",{className:\"user-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input\",name:\"name\",placeholder:\"T\\xEAn\",value:draft.name,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input\",name:\"email\",type:\"email\",placeholder:\"Email\",value:draft.email,onChange:handleChange,required:true})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn small\",onClick:closeEditModal,children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn small\",type:\"submit\",disabled:loading,children:loading?'Đang...':'Lưu'})]})]}),SHOW_AVATAR_FEATURE&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,marginBottom:6},children:\"\\u1EA2nh \\u0111\\u1EA1i di\\u1EC7n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:async e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(!file)return;setUploading(true);setMessage('');try{const formData=new FormData();formData.append('avatar',file);const res=await fetch(\"\".concat(API,\"/upload-avatar\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token)},body:formData});const data=await res.json();if(!res.ok)throw new Error((data===null||data===void 0?void 0:data.message)||'Upload thất bại');setAvatarUrl(data.avatarUrl);if(setCurrentUser){const merged=_objectSpread(_objectSpread({},currentUser||{}),{},{avatarUrl:data.avatarUrl});setCurrentUser(merged);try{localStorage.setItem('currentUser',JSON.stringify(merged));}catch(_){}}setMessage('Tải ảnh thành công');}catch(err){setMessage(err.message);}finally{setUploading(false);}}}),uploading&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:6},children:\"\\u0110ang t\\u1EA3i \\u1EA3nh...\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8,color:message.includes('thành công')?'#2e7d32':'#c62828'},children:message})]}),/*#__PURE__*/_jsxs(Modal,{open:showSaveConfirm,title:\"X\\xE1c nh\\u1EADn\",onClose:()=>setShowSaveConfirm(false),children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:12},children:\"B\\u1EA1n c\\xF3 ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n l\\u01B0u thay \\u0111\\u1ED5i th\\xF4ng tin?\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn small\",onClick:()=>setShowSaveConfirm(false),children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn small\",onClick:doSave,disabled:loading,children:loading?'Đang lưu...':'Lưu'})]})]}),/*#__PURE__*/_jsxs(Modal,{open:showTokenModal,title:\"Token truy c\\u1EADp\",onClose:()=>{setShowTokenModal(false);setCopied(false);},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:12,wordBreak:'break-all'},children:token?token:'Không tìm thấy token. Vui lòng đăng nhập để xem token.'}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,justifyContent:'flex-end',alignItems:'center'},children:[copied&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#2e7d32'},children:\"\\u0110\\xE3 sao ch\\xE9p\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn small\",onClick:()=>{setShowTokenModal(false);setCopied(false);},children:\"\\u0110\\xF3ng\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn small\",onClick:async()=>{if(!token)return;try{if(navigator&&navigator.clipboard&&navigator.clipboard.writeText){await navigator.clipboard.writeText(token);}else{const ta=document.createElement('textarea');ta.value=token;document.body.appendChild(ta);ta.select();document.execCommand('copy');document.body.removeChild(ta);}setCopied(true);setTimeout(()=>setCopied(false),2000);}catch(e){alert('Không thể sao chép token');}},children:\"Sao ch\\xE9p\"})]})]}),/*#__PURE__*/_jsxs(Modal,{open:showDeleteConfirm,title:\"X\\xE1c nh\\u1EADn\",onClose:()=>setShowDeleteConfirm(false),children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:12},children:\"B\\u1EA1n c\\xF3 ch\\u1EAFc ch\\u1EAFn mu\\u1ED1n x\\xF3a t\\xE0i kho\\u1EA3n? H\\xE0nh \\u0111\\u1ED9ng n\\xE0y kh\\xF4ng th\\u1EC3 ho\\xE0n t\\xE1c.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn small\",onClick:()=>setShowDeleteConfirm(false),children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn small danger\",onClick:async()=>{try{await axios.delete(\"\".concat(API,\"/users/\").concat((currentUser===null||currentUser===void 0?void 0:currentUser.id)||(currentUser===null||currentUser===void 0?void 0:currentUser._id)),{headers:{Authorization:\"Bearer \".concat(token)}});setShowDeleteConfirm(false);// Đăng xuất sau khi xóa chính mình\nlocalStorage.removeItem('token');localStorage.removeItem('currentUser');window.location.reload();}catch(err){var _err$response3,_err$response3$data;setShowDeleteConfirm(false);alert(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||'Xóa tài khoản thất bại');}},children:\"X\\xF3a\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","Modal","jsx","_jsx","jsxs","_jsxs","API","process","env","REACT_APP_API_URL","Profile","_ref","token","onUpdated","currentUser","setCurrentUser","SHOW_AVATAR_FEATURE","SHOW_DELETE_ACCOUNT","SHOW_EMAIL_UNDER_NAME","profileData","setProfileData","name","email","draft","setDraft","avatarUrl","setAvatarUrl","uploading","setUploading","loading","setLoading","message","setMessage","openEdit","setOpenEdit","showSaveConfirm","setShowSaveConfirm","showDeleteConfirm","setShowDeleteConfirm","showTokenModal","setShowTokenModal","copied","setCopied","fetchProfile","res","get","concat","headers","Authorization","aurl","data","err","_err$response","_err$response$data","serverMsg","response","handleChange","e","value","target","prev","_objectSpread","openEditModal","closeEditModal","doSave","trimmedName","trim","trimmedEmail","put","updated","mergedUser","localStorage","setItem","JSON","stringify","_","_err$response2","_err$response2$data","handleSubmit","preventDefault","style","padding","children","className","width","height","borderRadius","overflow","marginRight","src","alt","objectFit","display","alignItems","justifyContent","background","color","fontWeight","toUpperCase","onClick","open","title","onClose","onSubmit","placeholder","onChange","required","type","gap","disabled","marginTop","marginBottom","accept","_e$target$files","file","files","formData","FormData","append","fetch","method","body","json","ok","Error","merged","includes","wordBreak","navigator","clipboard","writeText","ta","document","createElement","appendChild","select","execCommand","removeChild","setTimeout","alert","delete","id","_id","removeItem","window","location","reload","_err$response3","_err$response3$data"],"sources":["d:/PM MNM/group11-project1/frontend/src/Profile.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Modal from './components/Modal';\n\nconst API = process.env.REACT_APP_API_URL || 'http://localhost:3000';\n\nexport default function Profile({ token, onUpdated, currentUser, setCurrentUser }) {\n  // Cờ tính năng: hiển thị các phần theo yêu cầu. Đặt true để BẬT.\n  const SHOW_AVATAR_FEATURE = true; // Bật lại upload/hiển thị avatar\n  const SHOW_DELETE_ACCOUNT = true; // Bật lại nút \"Xóa tài khoản\"\n  // Cờ hiển thị email ngay dưới tên trong phần tiêu đề hồ sơ\n  const SHOW_EMAIL_UNDER_NAME = false; // Ẩn theo yêu cầu; có thể bật lại bằng cách đặt true\n  // Saved profile data shown in the view\n  const [profileData, setProfileData] = useState({ name: currentUser?.name || '', email: currentUser?.email || '' });\n  // Draft data for the edit modal (so Cancel/X discards changes)\n  const [draft, setDraft] = useState({ name: '', email: '' });\n  const [avatarUrl, setAvatarUrl] = useState(currentUser?.avatarUrl || '');\n  const [uploading, setUploading] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [openEdit, setOpenEdit] = useState(false);\n  const [showSaveConfirm, setShowSaveConfirm] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [showTokenModal, setShowTokenModal] = useState(false);\n  const [copied, setCopied] = useState(false);\n\n  useEffect(() => {\n    async function fetchProfile() {\n      try {\n        setMessage('');\n        const res = await axios.get(`${API}/profile`, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        const { name, email, avatarUrl: aurl } = res.data || {};\n        setProfileData({ name: name || '', email: email || '' });\n        if (aurl) setAvatarUrl(aurl);\n      } catch (err) {\n        const serverMsg = err.response?.data?.message || err.message;\n        setMessage(serverMsg || 'Không thể tải hồ sơ');\n      }\n    }\n    if (token) fetchProfile();\n  }, [token]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setDraft(prev => ({ ...prev, [name]: value }));\n  };\n\n  const openEditModal = () => {\n    setMessage('');\n    setDraft({ name: profileData.name || '', email: profileData.email || '' });\n    setOpenEdit(true);\n  };\n\n  const closeEditModal = () => {\n    setOpenEdit(false);\n    setDraft({ name: '', email: '' }); // discard edits\n    setMessage('');\n  };\n\n  // Thực hiện lưu thông tin (được gọi sau khi xác nhận)\n  const doSave = async () => {\n    const trimmedName = (draft.name || '').trim();\n    const trimmedEmail = (draft.email || '').trim();\n    if (!trimmedName) { setMessage('Tên không được để trống'); return; }\n    setLoading(true);\n    setMessage('');\n    try {\n      const res = await axios.put(`${API}/profile`, { name: trimmedName, email: trimmedEmail }, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      const updated = res.data;\n      setProfileData({ name: updated.name || trimmedName, email: updated.email || trimmedEmail });\n      if (setCurrentUser) {\n        const mergedUser = { ...(currentUser || {}), ...updated };\n        setCurrentUser(mergedUser);\n        try { localStorage.setItem('currentUser', JSON.stringify(mergedUser)); } catch (_) {}\n      }\n      if (onUpdated) onUpdated(updated);\n      setMessage('Cập nhật thành công');\n      setShowSaveConfirm(false);\n      closeEditModal();\n    } catch (err) {\n      const serverMsg = err.response?.data?.message || err.message;\n      setMessage(serverMsg || 'Cập nhật thất bại');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Khi submit form, chỉ mở hộp xác nhận (không lưu ngay)\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const trimmedName = (draft.name || '').trim();\n    if (!trimmedName) { setMessage('Tên không được để trống'); return; }\n    setShowSaveConfirm(true);\n  };\n\n  return (\n    <div style={{padding:18}}>\n      <div className=\"profile-card\">\n        <div className=\"profile-header\">\n          {SHOW_AVATAR_FEATURE && (\n            <div className=\"profile-avatar\" style={{width:56,height:56,borderRadius:'50%',overflow:'hidden',marginRight:10}}>\n              {avatarUrl ? (\n                <img src={avatarUrl} alt=\"avatar\" style={{width:'100%',height:'100%',objectFit:'cover'}} />\n              ) : (\n                <div style={{width:'100%',height:'100%',display:'flex',alignItems:'center',justifyContent:'center',background:'#e3f2fd',color:'#1565c0',fontWeight:700}}>\n                  {profileData.name ? profileData.name[0].toUpperCase() : 'U'}\n                </div>\n              )}\n            </div>\n          )}\n          <div className=\"profile-summary\">\n            <div className=\"profile-name\">{profileData.name}</div>\n            {SHOW_EMAIL_UNDER_NAME && (\n              <div className=\"profile-email\">{profileData.email}</div>\n            )}\n          </div>\n          <div className=\"profile-actions\">\n            <button className=\"btn small\" onClick={openEditModal}>Sửa</button>\n            <button className=\"btn small\" onClick={() => setShowTokenModal(true)}>Xem Token</button>\n            {SHOW_DELETE_ACCOUNT && (\n              <button className=\"btn small danger\" onClick={() => setShowDeleteConfirm(true)}>Xóa tài khoản</button>\n            )}\n          </div>\n        </div>\n\n        <div className=\"profile-details\">\n          <div className=\"profile-field\">\n            <div className=\"profile-label\">Họ và tên</div>\n            <div className=\"profile-value\">{profileData.name}</div>\n          </div>\n          <div className=\"profile-field\">\n            <div className=\"profile-label\">Email</div>\n            <div className=\"profile-value\">{profileData.email}</div>\n          </div>\n        </div>\n      </div>\n\n      <Modal open={openEdit} title=\"Cập nhật thông tin\" onClose={closeEditModal}>\n        <form className=\"user-form\" onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <input className=\"input\" name=\"name\" placeholder=\"Tên\" value={draft.name} onChange={handleChange} required />\n          </div>\n          <div className=\"form-group\">\n            <input className=\"input\" name=\"email\" type=\"email\" placeholder=\"Email\" value={draft.email} onChange={handleChange} required />\n          </div>\n          <div style={{display:'flex',gap:8,justifyContent:'flex-end'}}>\n            <button type=\"button\" className=\"btn small\" onClick={closeEditModal}>Hủy</button>\n            <button className=\"btn small\" type=\"submit\" disabled={loading}>{loading ? 'Đang...' : 'Lưu'}</button>\n          </div>\n        </form>\n        {SHOW_AVATAR_FEATURE && (\n          <div style={{marginTop:12}}>\n            <div style={{fontWeight:600, marginBottom:6}}>Ảnh đại diện</div>\n            <input type=\"file\" accept=\"image/*\" onChange={async (e) => {\n              const file = e.target.files?.[0];\n              if (!file) return;\n              setUploading(true);\n              setMessage('');\n              try {\n                const formData = new FormData();\n                formData.append('avatar', file);\n                const res = await fetch(`${API}/upload-avatar`, {\n                  method: 'POST',\n                  headers: { 'Authorization': `Bearer ${token}` },\n                  body: formData\n                });\n                const data = await res.json();\n                if (!res.ok) throw new Error(data?.message || 'Upload thất bại');\n                setAvatarUrl(data.avatarUrl);\n                if (setCurrentUser) {\n                  const merged = { ...(currentUser||{}), avatarUrl: data.avatarUrl };\n                  setCurrentUser(merged);\n                  try { localStorage.setItem('currentUser', JSON.stringify(merged)); } catch(_){}\n                }\n                setMessage('Tải ảnh thành công');\n              } catch (err) {\n                setMessage(err.message);\n              } finally { setUploading(false); }\n            }} />\n            {uploading && <div style={{marginTop:6}}>Đang tải ảnh...</div>}\n          </div>\n        )}\n        {message && <div style={{marginTop:8,color: message.includes('thành công') ? '#2e7d32' : '#c62828'}}>{message}</div>}\n      </Modal>\n\n        {/* Hộp xác nhận lưu thay đổi */}\n        <Modal open={showSaveConfirm} title=\"Xác nhận\" onClose={() => setShowSaveConfirm(false)}>\n          <div style={{marginBottom:12}}>Bạn có chắc chắn muốn lưu thay đổi thông tin?</div>\n          <div style={{display:'flex',gap:8,justifyContent:'flex-end'}}>\n            <button className=\"btn small\" onClick={() => setShowSaveConfirm(false)}>Hủy</button>\n            <button className=\"btn small\" onClick={doSave} disabled={loading}>{loading ? 'Đang lưu...' : 'Lưu'}</button>\n          </div>\n        </Modal>\n\n      {/* Hộp hiển thị token truy cập */}\n      <Modal open={showTokenModal} title=\"Token truy cập\" onClose={() => { setShowTokenModal(false); setCopied(false); }}>\n        <div style={{marginBottom:12, wordBreak:'break-all'}}>\n          {token ? token : 'Không tìm thấy token. Vui lòng đăng nhập để xem token.'}\n        </div>\n        <div style={{display:'flex',gap:8,justifyContent:'flex-end', alignItems:'center'}}>\n          {copied && <div style={{color:'#2e7d32'}}>Đã sao chép</div>}\n          <button className=\"btn small\" onClick={() => { setShowTokenModal(false); setCopied(false); }}>Đóng</button>\n          <button className=\"btn small\" onClick={async () => {\n            if (!token) return;\n            try {\n              if (navigator && navigator.clipboard && navigator.clipboard.writeText) {\n                await navigator.clipboard.writeText(token);\n              } else {\n                const ta = document.createElement('textarea');\n                ta.value = token;\n                document.body.appendChild(ta);\n                ta.select();\n                document.execCommand('copy');\n                document.body.removeChild(ta);\n              }\n              setCopied(true);\n              setTimeout(() => setCopied(false), 2000);\n            } catch (e) {\n              alert('Không thể sao chép token');\n            }\n          }}>Sao chép</button>\n        </div>\n      </Modal>\n\n        {/* Hộp xác nhận xóa tài khoản */}\n        <Modal open={showDeleteConfirm} title=\"Xác nhận\" onClose={() => setShowDeleteConfirm(false)}>\n          <div style={{marginBottom:12}}>Bạn có chắc chắn muốn xóa tài khoản? Hành động này không thể hoàn tác.</div>\n          <div style={{display:'flex',gap:8,justifyContent:'flex-end'}}>\n            <button className=\"btn small\" onClick={() => setShowDeleteConfirm(false)}>Hủy</button>\n            <button\n              className=\"btn small danger\"\n              onClick={async () => {\n                try {\n                  await axios.delete(`${API}/users/${currentUser?.id || currentUser?._id}`, { headers: { Authorization: `Bearer ${token}` }});\n                  setShowDeleteConfirm(false);\n                  // Đăng xuất sau khi xóa chính mình\n                  localStorage.removeItem('token');\n                  localStorage.removeItem('currentUser');\n                  window.location.reload();\n                } catch (err) {\n                  setShowDeleteConfirm(false);\n                  alert(err.response?.data?.message || 'Xóa tài khoản thất bại');\n                }\n              }}\n            >\n              Xóa\n            </button>\n          </div>\n        </Modal>\n    </div>\n  );\n}\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}